# Spatial OS Dashboard - Docker Compose

version: '3.8'

services:
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_API_URL=${API_URL:-http://localhost:8787}
      - NEXT_PUBLIC_WS_URL=${WS_URL:-ws://localhost:8787}
    depends_on:
      - core
    restart: unless-stopped

  # Optional: Run with core backend
  core:
    image: spatial-os/core:latest
    ports:
      - "8787:8787"
    environment:
      - JWT_SECRET=${JWT_SECRET:-your-super-secret-jwt-key}
      - DATABASE_URL=file:./local.db
    volumes:
      - spatial-data:/app/data
    restart: unless-stopped

volumes:
  spatial-data:

networks:
  default:
    name: spatial-os-network
